Clone this repository to Compile-Machine (where you will compile Ua) and Run-Machine (where you will run everything).

Install Matlab Runtime on Run-Machine:
Assuming you're using Archer, you will need version 2017a:
wget http://ssd.mathworks.com/supportfiles/downloads/R2017a/deployment_files/R2017a/installers/glnxa64/MCR_R2017a_glnxa64_installer.zip
If you want another version for a different machine, they're all available here https://uk.mathworks.com/products/compiler/matlab-runtime.html. 
Follow instructions here to unzip and install; https://uk.mathworks.com/help/compiler/install-the-matlab-runtime.html On Archer, make sure you install to a folder in /work rather than /home.

Set some variables specific to your filesystem:
For Compile-Machine:
compile_ua.sh: MATLAB_PATH, REPO_DIR, UA_BUILD
For Run-Machine:
MISOMIP_999/scripts/compile.sh: MIT_SOURCE
run_coupler.sh: REPO_DIR
run_ua.sh: MCR
config_options.py: mit_case_dir, ua_exe_dir, output_dir (note depend on work_dir)
setup_mit_misomip.py: input_dir (near bottom; this should agree with mit_case_dir/input)

Go to Run-Machine.

Setup MITgcm:
Copy MISOMIP_999 directory to mit_case_dir as specified in config_options.py
     eg cp -r MISOMIP_999 $WORK/mitgcm/cases/
python setup_mit_misomip.py
cd to where you copied this folder, then cd to scripts/
./compile.sh
./prepare_run.sh

Setup Ua:
Go to Compile-Machine.
./compile_ua.sh
scp Ua <Run-Machine>:<ua_exe_dir as specified in config_options.py>
Go back to Run-Machine.
cp MISOMIP_999_Ua/MISOMIP_999-Restartfile.mat <ua_exe_dir>

Run the model:
qsub -A $HECACC run_coupler.sh